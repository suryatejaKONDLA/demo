<EditForm Model="Model"
          OnSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary Class="alert alert-danger p-5" />
    <div class="form-step">
        <h4>Product Information</h4>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Product Name</label>
                    <InputText @bind-Value="Model.ProductName"
                               class="form-control" />
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label>Category</label>
                    <InputText @bind-Value="Model.Category"
                               class="form-control" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Description</label>
                    <InputTextArea @bind-Value="Model.Description"
                                   class="form-control" />
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label>Manufacturer</label>
                    <InputText @bind-Value="Model.Manufacturer"
                               class="form-control" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Price</label>
                    <InputNumber @bind-Value="Model.Price"
                                 class="form-control" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Stock Quantity</label>
                    <InputNumber @bind-Value="Model.StockQuantity"
                                 class="form-control" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Manufacture Date</label>
                    <InputDate @bind-Value="Model.ManufactureDate"
                               class="form-control" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Expiry Date</label>
                    <InputDate @bind-Value="Model.ExpiryDate"
                               class="form-control" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Barcode</label>
                    <InputText @bind-Value="Model.Barcode"
                               class="form-control" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-check form-group">
                    <InputCheckbox @bind-Value="Model.IsActive"
                                   class="form-check-input" />
                    <label class="form-check-label">Is Active</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label>Notes</label>
                    <InputTextArea @bind-Value="Model.Notes"
                                   class="form-control" />
                </div>
            </div>
        </div>
        @{
            if (Wizard?.Steps is { Count: > 0 })
            {
                var currentStepIndex = Wizard.Steps.IndexOf(Wizard.Steps.First(x => x.StepName == StepName));
                var isFirst = currentStepIndex == 0;
                var isLast = currentStepIndex == (Wizard.Steps.Count - 1);

                <div class="button-group mt-3">
                    @{
                        if (!isFirst)
                        {
                            <button class="btn btn-secondary me-2"
                                    @onclick="Wizard.GoPrevious"
                                    type="button">
                                Previous
                            </button>
                        }
                    }
                    <button class="btn btn-primary"
                            type="submit">
                        @(isLast ? "Submit" : "Next")
                    </button>
                </div>
            }
        }
    </div>
</EditForm>